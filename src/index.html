<head>
	<script src="scripts/angular.min.js"></script>
	<script src="scripts/jquery-1.11.1.min.js"></script>
	<script src="scripts/angular-route.min.js"></script>
	<script src="scripts/idleGame.js"></script>
	<script src="scripts/gameLoop.js"></script>
	<script src="scripts/store.js"></script>
	<script src="scripts/upgrades.js"></script>
	<script src="scripts/business.js"></script>
	<script src="scripts/menu.js"></script>
	<script src="scripts/achievements.js"></script>
	<script src="scripts/stats.js"></script>
	<link rel="stylesheet" type="text/css" href="css/reset.css" />
	<link rel="stylesheet" type="text/css" href="css/main.css" />
	<link rel="stylesheet" type="text/css" href="css/store.css" />
	<link rel="stylesheet" type="text/css" href="css/menu.css" />
	<title>Angular Idle Game</title>
</head>
<body>
	<div ng-app="idleGame">
		<div>
			<div class="stats" ng-controller="GameLoopController">
				<h1>{{getCompanyName()}}</h1>
				<h2>Total Money: {{getMoney() | currency}}</h2>
				<h3>Money/Second: {{getMps() | currency}}</h3>
				<div ng-show="loadedVersion < currentVersion">
					<h2>NEW VERSION - REFRESH TO GET IT</h2>
				</div>
			</div>
			<div class="links textCenter">
				<a href="#/business">Business</a> | 
				<a href="#/store">Store</a> | 
				<a href="#/upgrades">Upgrades</a> |
				<a href="#/achievements">Achievements</a> | 
				<a href="#/stats">Stats</a> |
				<a href="#/menu">Menu</a>
			</div>
			<div class="mainContent center">
				<ng-view>Loading...</ng-view>
				
				<script type="text/ng-template" id="store.html">
					<div class="item" 
						 ng-class="{disabled: cantBuy(item.id), enabled: !cantBuy(item.id), hover: !cantBuy(item.id) && hover}" 
						 ng-repeat="item in items" 
						 ng-click="buy($event, item.id)"
						 ng-mouseenter="hover = true"
						 ng-mouseleave="hover = false">
						<div class="left">
							<p class="name">{{item.name}}</p>
							<p class="info">Adds: {{getMps(item.id) | currency}}</p>
							<p class="info">Cost: {{currentPrice(item.id) | currency}}</p>
						</div>
						<div class="right">
							<h1>{{getCount(item.id)}}</h1>
						</div>
					</div>
				</script>

				<script type="text/ng-template" id="upgrades.html">
					<div class="item"
						 ng-class="{disabled: cantBuy(upgrade.id), enabled: !cantBuy(upgrade.id), hover: !cantBuy(upgrade.id) && hover, alreadyBought: alreadyBought(upgrade.id)}" 
						 ng-repeat="upgrade in upgrades"
						 ng-click="buy(upgrade.id)"
						 ng-mouseenter="hover = true"
						 ng-mouseleave="hover = false"
						 ng-show="canShow(upgrade)">
						<p class="name">{{upgrade.name}}</p>
						<p class="info">Cost: {{upgrade.price | currency}}</p>
						<p class="info"
						   ng-show="!upgrade.isBusiness">
							Adds: {{upgrade.mps | currency}}
						</p>
						<p class="info"
						   ng-show="upgrade.isOpportunity && upgrade.mpo">
							Adds: {{upgrade.mpo | currency}}/Opportunity
						</p>
						<p class="info"
						   ng-show="upgrade.isOpportunity && upgrade.mpop">
							Adds: {{upgrade.mpop * 100}}% of MPS/Opportunity
						</p>
						<p class="info"
						   ng-show="upgrade.isOnLoad">
							Adds: {{upgrade.per * 100}}% of MPS
						</p>
						<p class="info"
						   ng-show="upgrade.isAchievement">
							Adds: {{upgrade.per * 100}}%/Achievement
						</p>
						<p class="info">For: <span class="underline">{{getItemName(upgrade.itemId)}}</span></p>
						<br />
						<p class="description">{{upgrade.description}}</p>
					</div>
				</script>
				 
				<script type="text/ng-template" id="business.html">
					<div class="item"
						 ng-class="{enabled: true, hover: hover}"
						 ng-init="generateOpportunities()"
						 ng-click="doBusiness(opportunity)"
						 ng-mouseenter="hover = true"
						 ng-mouseleave="hover = false">
						<p>{{opportunity}}</p>
					</div>
				</script>

				<script type="text/ng-template" id="achievements.html">
					<div class="achievements" ng-controller="AchievementsController">
						<div class="item"
							 ng-repeat="achievement in achievements"
							 ng-class="{enabled: hasEarned(achievement.id), disabled: !hasEarned(achievement.id)}">
						<p class="name">{{achievement.name}}</p>
						<p class="info">{{achievement.description}}</p>
					</div>
				</script>

				<script type="text/ng-template" id="stats.html">
					<div class="stats" ng-controller="StatsController">
						<div class="item enabled">
							<p class="name">Total Money Earned</p>
							<p class="info">{{playerService.totalMoney | currency}}</p>
						</div>
						<div class="item enabled">
							<p class="name">Total Business Opportunties</p>
							<p class="info">Opportunities: {{playerService.totalOpportunities}}</p>
							<p class="info">Total Earned: {{playerService.totalMoneyFromOpportunties | currency}}</p>
							<p class="info">Current Per Opportunity: {{moneyService.clickPower() | currency}}</p>
						</div>
						<div class="item enabled">
							<p class="name">Buildings Bought</p>
							<p class="info">{{totalBuildings}}</p>
						</div>
						<div class="item enabled">
							<p class="name">Upgrades Bought</p>
							<p class="info">{{totalUpgrades}} / {{possibleUpgrades}}</p>
						</div>
						<div class="item enabled">
							<p class="name">Achievements Earned</p>
							<p class="info">{{totalAchievements}} / {{possibleAchievements}}</p>
						</div>
					</div>
				</script>
				
				<script type="text/ng-template" id="menu.html">
					<div class="content center">
						<section>
							<p>Set the name of your new corporation!</p>
							<input type="text" ng-model="playerService.companyName" />
						</section>
						<section>
							<p>FPS - Higher numbers will make the game smoother but may lag older systems.</p>
							<input type="number" ng-model="playerService.fps" min="1" max="1000" step="any" />
						</section>
						<section>
							<p>The game auto-saves every 30 seconds, but in case you are in a hurry, use this:</p>
							<button ng-click="saveGame()">Save Game</button>
						</section>
					</div>
				</script>
			</div>
			<div class="rightAd">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
				<!-- Idle Game Right Side -->
				<ins class="adsbygoogle"
				     style="display:inline-block;width:120px;height:600px"
				     data-ad-client="ca-pub-2046389339559087"
				     data-ad-slot="2827205531"></ins>
				<script>
				(adsbygoogle = window.adsbygoogle || []).push({});
				</script>
			</div>
			<div class="bottomAd center">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
				<!-- Idle Game Bottom Skinnier -->
				<ins class="adsbygoogle"
				     style="display:inline-block;width:468px;height:60px"
				     data-ad-client="ca-pub-2046389339559087"
				     data-ad-slot="1071270732"></ins>
				<script>
				(adsbygoogle = window.adsbygoogle || []).push({});
				</script>
			</div>
		</div>
	</div>
</body>